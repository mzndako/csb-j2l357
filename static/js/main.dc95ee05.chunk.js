(this["webpackJsonpexodus-algo-sandbox"]=this["webpackJsonpexodus-algo-sandbox"]||[]).push([[0],{149:function(n,t){},151:function(n,t){},161:function(n,t){},163:function(n,t){},190:function(n,t){},191:function(n,t){},196:function(n,t){},198:function(n,t){},205:function(n,t){},224:function(n,t){},240:function(n,t,e){},242:function(n,t,e){"use strict";e.r(t);var r=e(118),a=e(2),c=e(6),s=e(119),i=e(18),o=e(12),u=e(13),p=e(5),d=new u.Algodv2("","https://node.algoexplorerapi.io/",443),l=function(){var n=Object(c.a)(Object(a.a)().mark((function n(t){var e,r;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.getTransactionParams().do();case 2:return e=n.sent,r=u.makePaymentTxnWithSuggestedParamsFromObject({from:t,to:t,amount:1e5,suggestedParams:e}),n.abrupt("return",r.toByte());case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),f=function(){var n=Object(c.a)(Object(a.a)().mark((function n(){var t;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"#pragma version 2\nint 1",n.next=3,d.compile("#pragma version 2\nint 1").do();case 3:return t=n.sent,n.abrupt("return",new Uint8Array(p.Buffer.from(t.result,"base64")));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),b=function(){var n=Object(c.a)(Object(a.a)().mark((function n(t){var e,r,c,s,i,o,p,l,b,x;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=u.OnApplicationComplete.NoOpOC,n.next=3,f();case 3:return r=n.sent,n.next=6,f();case 6:return c=n.sent,s=1,i=1,o=1,p=1,l=[],n.next=14,d.getTransactionParams().do();case 14:return b=n.sent,x=u.makeApplicationCreateTxn(t,b,e,r,c,s,i,o,p,l),n.abrupt("return",x.toByte());case 17:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),x=function(){var n=Object(c.a)(Object(a.a)().mark((function n(t,e){var r,c,s;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}throw new Error("No appId supplied, create application before opting in");case 2:return n.next=4,d.getTransactionParams().do();case 4:return r=n.sent,c=[],s=u.makeApplicationOptInTxn(t,r,e,c),n.abrupt("return",s.toByte());case 8:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),j=function(){var n=Object(c.a)(Object(a.a)().mark((function n(t,e){var r,c,s;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}throw new Error("No appId supplied, create application and opt in before opting out");case 2:return n.next=4,d.getTransactionParams().do();case 4:return r=n.sent,c=[],s=u.makeApplicationCloseOutTxn(t,r,e,c),n.abrupt("return",s.toByte());case 8:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),O=function(){var n=Object(c.a)(Object(a.a)().mark((function n(t,e){var r,c,s,i,o;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}throw new Error("No appId supplied, create application before updating");case 2:return n.next=4,f();case 4:return r=n.sent,n.next=7,f();case 7:return c=n.sent,s=[],n.next=11,d.getTransactionParams().do();case 11:return i=n.sent,o=u.makeApplicationUpdateTxn(t,i,e,r,c,s),n.abrupt("return",o.toByte());case 14:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),h=function(){var n=Object(c.a)(Object(a.a)().mark((function n(t,e){var r,c;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}throw new Error("No appId supplied, create application before deleting");case 2:return n.next=4,d.getTransactionParams().do();case 4:return r=n.sent,c=u.makeApplicationDeleteTxn(t,r,e),n.abrupt("return",c.toByte());case 7:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),g=function(){var n=Object(c.a)(Object(a.a)().mark((function n(t,e){var r,c,s,i;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(null==d||null==t||e<0)){n.next=2;break}throw new Error("Bad arguments");case 2:return n.next=4,d.status().do();case 4:if(void 0!==(r=n.sent)){n.next=7;break}throw new Error("Unable to get node status");case 7:c=r["last-round"]+1,s=c;case 9:if(!(s<c+e)){n.next=25;break}return n.next=12,d.pendingTransactionInformation(t).do();case 12:if(void 0===(i=n.sent)){n.next=20;break}if(!(null!==i["confirmed-round"]&&i["confirmed-round"]>0)){n.next=18;break}return n.abrupt("return",i);case 18:if(!(null!=i["pool-error"]&&i["pool-error"].length>0)){n.next=20;break}throw new Error("Transaction "+t+" rejected - pool error: "+i["pool-error"]);case 20:return n.next=22,d.statusAfterBlock(s).do();case 22:s++,n.next=9;break;case 25:throw new Error("Transaction "+t+" not confirmed after "+e+" rounds!");case 26:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}(),w=(e(240),e(3));function v(){var n=function(){if("exodus"in window)return window.exodus.algorand;window.open("https://exodus.com","_blank")}(),t=Object(o.useState)([]),e=Object(i.a)(t,2),r=e[0],u=e[1],p=Object(o.useCallback)((function(n){console.log(n),u((function(t){return[].concat(Object(s.a)(t),["> "+n])}))}),[]),d=Object(o.useState)(!1),f=Object(i.a)(d,2)[1],v=Object(o.useState)(null),m=Object(i.a)(v,2),k=m[0],S=m[1],T=Object(o.useState)(null),A=Object(i.a)(T,2),y=A[0],C=A[1],I=Object(o.useState)(null),N=Object(i.a)(I,2),P=N[0],E=N[1];if(Object(o.useEffect)((function(){if(n)return n.connect().catch((function(n){})).then((function(n){S(n.address),f(!0),p("[connect] "+k)})),function(){n.disconnect()}}),[n,p]),!n)return Object(w.jsx)("h2",{children:"Could not find a provider"});var J=function(){var t=Object(c.a)(Object(a.a)().mark((function t(){var e,r,c,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.prev=1,t.next=4,Promise.all([l(n.address)]);case 4:if(r=t.sent,c=Object(i.a)(r,1),!(s=c[0])){t.next=12;break}return t.next=10,n.signTransaction([s]);case 10:e=t.sent,p("signTransaction signedTransactions: "+JSON.stringify(e));case 12:t.next=18;break;case 14:t.prev=14,t.t0=t.catch(1),console.warn(t.t0),p("[error] signTransactions: "+JSON.stringify(t.t0));case 18:return t.abrupt("return",e);case 19:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(c.a)(Object(a.a)().mark((function t(){var e,r,c;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Promise.all([l(n.address)]);case 3:return e=t.sent,t.next=6,n.signAndSendTransaction(e);case 6:return r=t.sent,c=r.txId,p("Sending transaction "+c+", awaiting confirmation"),t.next=11,g(c,10);case 11:p("Transaction "+c+" confirmed"),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.warn(t.t0),p("[error] signAndSendTransaction: "+JSON.stringify(t.t0));case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(){return t.apply(this,arguments)}}(),U=function(){var t=Object(c.a)(Object(a.a)().mark((function t(){var e,r,c,s,i,o;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.prev=1,t.next=4,Promise.all([b(n.address)]);case 4:if(!(r=t.sent)){t.next=18;break}return t.next=8,n.signAndSendTransaction(r);case 8:return c=t.sent,s=c.txId,p("Sending transaction "+s+", awaiting confirmation"),t.next=13,g(s,10);case 13:i=t.sent,p("Transaction "+s+" confirmed"),o=i["application-index"],p("Created application with appId "+o),C(o);case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(1),console.warn(t.t0),p("[error] signAndSendApplCreateTransaction: "+t.t0.toString()+" "+JSON.stringify(t.t0));case 24:return t.abrupt("return",e);case 25:case"end":return t.stop()}}),t,null,[[1,20]])})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=Object(c.a)(Object(a.a)().mark((function t(){var e,r,c,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.prev=1,t.next=4,Promise.all([O(n.address,y)]);case 4:if(!(r=t.sent)){t.next=15;break}return t.next=8,n.signAndSendTransaction(r);case 8:return c=t.sent,s=c.txId,p("Sending transaction "+s+", awaiting confirmation"),t.next=13,g(s,10);case 13:p("Transaction "+s+" confirmed"),p("Updated application with appId "+y);case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(1),console.warn(t.t0),p("[error] signAndSendApplUpdateTransaction: "+t.t0.toString()+" "+JSON.stringify(t.t0));case 21:return t.abrupt("return",e);case 22:case"end":return t.stop()}}),t,null,[[1,17]])})));return function(){return t.apply(this,arguments)}}(),F=function(){var t=Object(c.a)(Object(a.a)().mark((function t(){var e,r,c,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.prev=1,t.next=4,Promise.all([x(n.address,y)]);case 4:if(!(r=t.sent)){t.next=16;break}return t.next=8,n.signAndSendTransaction(r);case 8:return c=t.sent,s=c.txId,p("Sending transaction "+s+", awaiting confirmation"),t.next=13,g(s,10);case 13:p("Transaction "+s+" confirmed"),p("Opted In application with appId "+y),E(y);case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(1),console.warn(t.t0),p("[error] signAndSendApplOptinTransaction: "+t.t0.toString()+" "+JSON.stringify(t.t0));case 22:return t.abrupt("return",e);case 23:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(){return t.apply(this,arguments)}}(),W=function(){var t=Object(c.a)(Object(a.a)().mark((function t(){var e,r,c,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.prev=1,t.next=4,Promise.all([j(n.address,P)]);case 4:if(!(r=t.sent)){t.next=16;break}return t.next=8,n.signAndSendTransaction(r);case 8:return c=t.sent,s=c.txId,p("Sending transaction "+s+", awaiting confirmation"),t.next=13,g(s,10);case 13:p("Transaction "+s+" confirmed"),p("Opted Out application with appId "+P),E(null);case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(1),console.warn(t.t0),p("[error] signAndSendApplOptoutTransaction: "+t.t0.toString()+" "+JSON.stringify(t.t0));case 22:return t.abrupt("return",e);case 23:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(){return t.apply(this,arguments)}}(),_=function(){var t=Object(c.a)(Object(a.a)().mark((function t(){var e,r,c,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.prev=1,t.next=4,Promise.all([h(n.address,y)]);case 4:if(!(r=t.sent)){t.next=17;break}return t.next=8,n.signAndSendTransaction(r);case 8:return c=t.sent,s=c.txId,p("Sending transaction "+s+", awaiting confirmation"),t.next=13,g(s,10);case 13:p("Transaction "+s+" confirmed"),p("Deleted application with appId "+y),C(null),E(null);case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(1),console.warn(t.t0),p("[error] signAndSendApplDeleteTransaction: "+t.t0.toString()+" "+JSON.stringify(t.t0));case 23:return t.abrupt("return",e);case 24:case"end":return t.stop()}}),t,null,[[1,19]])})));return function(){return t.apply(this,arguments)}}();return Object(w.jsxs)("div",{className:"App",children:[Object(w.jsxs)("main",{children:[Object(w.jsx)("h1",{children:"Exodus Sandbox"}),n&&k?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{children:[Object(w.jsx)("pre",{children:"Connected as"}),Object(w.jsx)("br",{}),Object(w.jsx)("pre",{children:k}),Object(w.jsx)("br",{})]}),Object(w.jsx)("button",{onClick:J,children:"Sign Transaction"}),Object(w.jsx)("button",{onClick:B,children:"Sign And Send Transaction"}),Object(w.jsx)("button",{onClick:U,children:"Sign And Send Application Create Transaction"}),Object(w.jsx)("button",{onClick:F,children:"Sign And Send Application Opt In Transaction"}),Object(w.jsx)("button",{onClick:W,children:"Sign And Send Application Opt Out Transaction"}),Object(w.jsx)("button",{onClick:D,children:"Sign And Send Application Update Transaction"}),Object(w.jsx)("button",{onClick:_,children:"Sign And Send Application Delete Transaction"}),Object(w.jsx)("button",{onClick:Object(c.a)(Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.disconnect();case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),console.warn(t.t0),p("[error] disconnect: "+JSON.stringify(t.t0));case 9:case"end":return t.stop()}}),t,null,[[0,5]])}))),children:"Disconnect"})]}):Object(w.jsx)(w.Fragment,{children:Object(w.jsx)("button",{onClick:Object(c.a)(Object(a.a)().mark((function t(){return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.connect();case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),console.warn(t.t0),p("[error] connect: "+JSON.stringify(t.t0));case 9:case"end":return t.stop()}}),t,null,[[0,5]])}))),children:"Connect to Exodus"})})]}),Object(w.jsx)("footer",{className:"logs",children:r.map((function(n,t){return Object(w.jsx)("div",{className:"log",children:n},t)}))})]})}var m=document.getElementById("root");Object(r.render)(Object(w.jsx)(v,{}),m)}},[[242,1,2]]]);
//# sourceMappingURL=main.dc95ee05.chunk.js.map